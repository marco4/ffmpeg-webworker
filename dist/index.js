!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).ffmpegWebworker={})}(this,function(e){"use strict";var t="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n);return e=r?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!=typeof e&&"function"!=typeof e?a(t):e}}function c(){importScripts("https://cdn.rawgit.com/bgrins/videoconverter.js/master/build/ffmpeg-all-codecs.js");var n=Date.now;function r(e){postMessage({type:"stdout",data:e})}onmessage=function(e){var t=e.data;"command"===t.type&&(e={print:r,printErr:r,files:t.files||[],arguments:t.arguments||[],TOTAL_MEMORY:t.totalMemory||33554432},postMessage({type:"start",data:e.arguments.join(" ")}),postMessage({type:"stdout",data:"Received command: "+e.arguments.join(" ")+(e.TOTAL_MEMORY?".  Processing with "+e.TOTAL_MEMORY+" bits.":"")}),t=n(),e=ffmpeg_run(e),t=n()-t,postMessage({type:"stdout",data:"Finished processing (took "+t+"ms)"}),postMessage({type:"done",data:e,time:t}))},postMessage({type:"ready"})}var n,r,l,p=(function(e){(e=e).default=function t(e){if(function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),"function"!=typeof e)throw new Error("File content must export a function");e=e.toString(),e=new Blob(["("+e+")()"],{type:"application/javascript"});return new Worker(URL.createObjectURL(e))},Object.defineProperty(e,"__esModule",{value:!0})}((n={exports:{}},n.exports)),n.exports),h=(r=p)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;function d(){}function y(){y.init.call(this)}function v(e){return void 0===e._maxListeners?y.defaultMaxListeners:e._maxListeners}function m(e,t,n,r){var o,i;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener||n),o=e._events),i=o[t]):(o=e._events=new d,e._eventsCount=0),i?("function"==typeof i?i=o[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),i.warned||(r=v(e))&&0<r&&i.length>r&&(i.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=e,r.type=t,r.count=i.length,r=r,"function"==typeof console.warn?console.warn(r):console.log(r))):(i=o[t]=n,++e._eventsCount),e}function w(e,t,n){var r=!1;function o(){e.removeListener(t,o),r||(r=!0,n.apply(e,arguments))}return o.listener=n,o}function g(e){var t=this._events;if(t){e=t[e];if("function"==typeof e)return 1;if(e)return e.length}return 0}function b(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}d.prototype=Object.create(null),(y.EventEmitter=y).usingDomains=!1,y.prototype.domain=void 0,y.prototype._events=void 0,y.prototype._maxListeners=void 0,y.defaultMaxListeners=10,y.init=function(){this.domain=null,y.usingDomains&&l.active&&l.Domain,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new d,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},y.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},y.prototype.getMaxListeners=function(){return v(this)},y.prototype.emit=function(e){var t,n,r,o="error"===e,i=this._events;if(i)o=o&&null==i.error;else if(!o)return!1;if(s=this.domain,o){if(o=arguments[1],s)return(o=o||new Error('Uncaught, unspecified "error" event')).domainEmitter=this,o.domain=s,o.domainThrown=!1,s.emit("error",o),!1;if(o instanceof Error)throw o;var s=new Error('Uncaught, unspecified "error" event. ('+o+")");throw s.context=o,s}if(!(t=i[e]))return!1;var u,a="function"==typeof t;switch(u=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,o=b(e,r),i=0;i<r;++i)o[i].call(n)}(t,a,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var o=e.length,i=b(e,o),s=0;s<o;++s)i[s].call(n,r)}(t,a,this,arguments[1]);break;case 3:!function(e,t,n,r,o){if(t)e.call(n,r,o);else for(var i=e.length,s=b(e,i),u=0;u<i;++u)s[u].call(n,r,o)}(t,a,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,o,i){if(t)e.call(n,r,o,i);else for(var s=e.length,u=b(e,s),a=0;a<s;++a)u[a].call(n,r,o,i)}(t,a,this,arguments[1],arguments[2],arguments[3]);break;default:for(n=new Array(u-1),r=1;r<u;r++)n[r-1]=arguments[r];!function(e,t,n,r){if(t)e.apply(n,r);else for(var o=e.length,i=b(e,o),s=0;s<o;++s)i[s].apply(n,r)}(t,a,this,n)}return!0},y.prototype.on=y.prototype.addListener=function(e,t){return m(this,e,t,!1)},y.prototype.prependListener=function(e,t){return m(this,e,t,!0)},y.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,w(this,e,t)),this},y.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,w(this,e,t)),this},y.prototype.removeListener=function(e,t){var n,r,o,i,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new d:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length;0<i--;)if(n[i]===t||n[i].listener&&n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new d,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}(n,o);r.removeListener&&this.emit("removeListener",e,s||t)}return this},y.prototype.removeAllListeners=function(e){var t,n=this._events;if(!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=new d,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new d:delete n[e]),this;if(0===arguments.length){for(var r,o=Object.keys(n),i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new d,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(;this.removeListener(e,t[t.length-1]),t[0];);return this},y.prototype.listeners=function(e){var t=this._events,n=t&&(n=t[e])?"function"==typeof n?[n.listener||n]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(n):[];return n},y.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},y.prototype.listenerCount=g,y.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var _=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,y);var e,t,n,r=f(o);function o(){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),u(a(s=r.call(this)),"_worker",{}),u(a(s),"_inputFile",{}),u(a(s),"workerIsReady",!1),u(a(s),"readFileAsBufferArray",function(r){return new Promise(function(e,t){var n=new FileReader;n.onload=function(){e(this.result)},n.onerror=function(){t(this.error)},n.readAsArrayBuffer(r)})}),u(a(s),"runCommand",function(r,o){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:33554432;if("string"!=typeof o||!o.length)throw new Error("command should be string and not empty");s.inputFile&&s.inputFile.type?s.convertInputFileToArrayBuffer().then(function(e){for(;!s.workerIsReady;);var t="video-".concat(Date.now(),".webm"),n="".concat(r," -i ").concat(t," ").concat(o);s.worker.postMessage({type:"command",arguments:n.split(" "),files:[{data:new Uint8Array(e),name:t}],totalMemory:i})}):s.worker.postMessage({type:"command",arguments:command.split(" "),totalMemory:i})}),u(a(s),"log",function(e){return Array.isArray(e)?console.log.call(null,e):console.log(e)}),u(a(s),"isVideo",function(e){var t=e.type;return e instanceof Blob&&(t.includes("video")||t.includes("audio"))}),s.initWebWorker(),s}return e=o,(t=[{key:"initWebWorker",value:function(){var n=this;this.worker=new h(c),this.log;var r=this.worker.onmessage=function(e){var t=e.data;e&&e.type&&("ready"==t.type?(n.emit("onReady","ffmpeg-asm.js file has been loaded."),n.workerIsReady=!0):"stdout"==t.type?n.emit("onStdout",t.data):"start"==t.type?(n.emit("onFileReceived","File Received"),r("file received ffmpeg command.")):"done"==t.type&&n.emit("onDone",t.data))}}},{key:"worker",get:function(){return this._worker},set:function(e){this._worker=e}},{key:"inputFile",get:function(){return this._inputFile},set:function(e){if(!this.isVideo(e))throw new Error("Input file is expected to be an audio or a video");this._inputFile=e}},{key:"inputFileExists",value:function(){var e=this.inputFile;return!!(e&&e instanceof Blob&&e.size&&e.type)}},{key:"convertInputFileToArrayBuffer",value:function(){if(!this.inputFileExists())throw new Error("Input File has not been set");return this.readFileAsBufferArray(this.inputFile)}}])&&i(e.prototype,t),n&&i(e,n),o}(),L=c,k=_,E={on:function(){},emit:function(){}},t=t||window,E=E=t&&t.Blob?new _:E;e.FFMPEGWebworker=L,e.FFMPEGWebworkerClient=k,e.default=E,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtZ2xvYmFscy9zcmMvZ2xvYmFsLmpzIiwiLi4vc3JjL0ZGTVBFR1dlYldvcmtlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtYnVpbHRpbnMvc3JjL2VzNi9ldmVudHMuanMiLCIuLi9ub2RlX21vZHVsZXMvd2Vid29ya2VyLWZpbGUvZGlzdC9pbmRleC5qcyIsIi4uL3NyYy9GRk1QRUdXZWJXb3JrZXJDbGllbnQuanMiLCIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOlxuICAgICAgICAgICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDpcbiAgICAgICAgICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSk7XG4iLCJjb25zdCB3b3JrZXJGaWxlID0gKCkgPT4ge1xuICBjb25zdCB3b3JrZXJQYXRoID1cbiAgICBcImh0dHBzOi8vY2RuLnJhd2dpdC5jb20vYmdyaW5zL3ZpZGVvY29udmVydGVyLmpzL21hc3Rlci9idWlsZC9mZm1wZWctYWxsLWNvZGVjcy5qc1wiO1xuXG4gIGltcG9ydFNjcmlwdHMod29ya2VyUGF0aCk7XG4gIGNvbnN0IG5vdyA9IERhdGUubm93O1xuICBmdW5jdGlvbiBwcmludCh0ZXh0KSB7XG4gICAgcG9zdE1lc3NhZ2UoeyB0eXBlOiBcInN0ZG91dFwiLCBkYXRhOiB0ZXh0IH0pO1xuICB9XG4gIG9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJjb21tYW5kXCIpIHtcbiAgICAgIGNvbnN0IE1vZHVsZSA9IHtcbiAgICAgICAgcHJpbnQ6IHByaW50LFxuICAgICAgICBwcmludEVycjogcHJpbnQsXG4gICAgICAgIGZpbGVzOiBtZXNzYWdlLmZpbGVzIHx8IFtdLFxuICAgICAgICBhcmd1bWVudHM6IG1lc3NhZ2UuYXJndW1lbnRzIHx8IFtdLFxuICAgICAgICBUT1RBTF9NRU1PUlk6IG1lc3NhZ2UudG90YWxNZW1vcnkgfHwgMzM1NTQ0MzJcbiAgICAgIH07XG4gICAgICBwb3N0TWVzc2FnZSh7IHR5cGU6IFwic3RhcnRcIiwgZGF0YTogTW9kdWxlLmFyZ3VtZW50cy5qb2luKFwiIFwiKSB9KTtcbiAgICAgIHBvc3RNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogXCJzdGRvdXRcIixcbiAgICAgICAgZGF0YTpcbiAgICAgICAgICBcIlJlY2VpdmVkIGNvbW1hbmQ6IFwiICtcbiAgICAgICAgICBNb2R1bGUuYXJndW1lbnRzLmpvaW4oXCIgXCIpICtcbiAgICAgICAgICAoTW9kdWxlLlRPVEFMX01FTU9SWVxuICAgICAgICAgICAgPyBcIi4gIFByb2Nlc3Npbmcgd2l0aCBcIiArIE1vZHVsZS5UT1RBTF9NRU1PUlkgKyBcIiBiaXRzLlwiXG4gICAgICAgICAgICA6IFwiXCIpXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHRpbWUgPSBub3coKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGZmbXBlZ19ydW4oTW9kdWxlKTtcbiAgICAgIGNvbnN0IHRvdGFsVGltZSA9IG5vdygpIC0gdGltZTtcbiAgICAgIHBvc3RNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogXCJzdGRvdXRcIixcbiAgICAgICAgZGF0YTogXCJGaW5pc2hlZCBwcm9jZXNzaW5nICh0b29rIFwiICsgdG90YWxUaW1lICsgXCJtcylcIlxuICAgICAgfSk7XG4gICAgICBwb3N0TWVzc2FnZSh7IHR5cGU6IFwiZG9uZVwiLCBkYXRhOiByZXN1bHQsIHRpbWU6IHRvdGFsVGltZSB9KTtcbiAgICB9XG4gIH07XG4gIHBvc3RNZXNzYWdlKHsgdHlwZTogXCJyZWFkeVwiIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgd29ya2VyRmlsZTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRvbWFpbjtcblxuLy8gVGhpcyBjb25zdHJ1Y3RvciBpcyB1c2VkIHRvIHN0b3JlIGV2ZW50IGhhbmRsZXJzLiBJbnN0YW50aWF0aW5nIHRoaXMgaXNcbi8vIGZhc3RlciB0aGFuIGV4cGxpY2l0bHkgY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgdG8gZ2V0IGEgXCJjbGVhblwiIGVtcHR5XG4vLyBvYmplY3QgKHRlc3RlZCB3aXRoIHY4IHY0LjkpLlxuZnVuY3Rpb24gRXZlbnRIYW5kbGVycygpIHt9XG5FdmVudEhhbmRsZXJzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbmV4cG9ydCBkZWZhdWx0IEV2ZW50RW1pdHRlcjtcbmV4cG9ydCB7RXZlbnRFbWl0dGVyfTtcblxuLy8gbm9kZWpzIG9kZGl0eVxuLy8gcmVxdWlyZSgnZXZlbnRzJykgPT09IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlclxuXG5FdmVudEVtaXR0ZXIudXNpbmdEb21haW5zID0gZmFsc2U7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZG9tYWluID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5FdmVudEVtaXR0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRvbWFpbiA9IG51bGw7XG4gIGlmIChFdmVudEVtaXR0ZXIudXNpbmdEb21haW5zKSB7XG4gICAgLy8gaWYgdGhlcmUgaXMgYW4gYWN0aXZlIGRvbWFpbiwgdGhlbiBhdHRhY2ggdG8gaXQuXG4gICAgaWYgKGRvbWFpbi5hY3RpdmUgJiYgISh0aGlzIGluc3RhbmNlb2YgZG9tYWluLkRvbWFpbikpIHtcbiAgICAgIHRoaXMuZG9tYWluID0gZG9tYWluLmFjdGl2ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcIm5cIiBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gJGdldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gJGdldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbi8vIFRoZXNlIHN0YW5kYWxvbmUgZW1pdCogZnVuY3Rpb25zIGFyZSB1c2VkIHRvIG9wdGltaXplIGNhbGxpbmcgb2YgZXZlbnRcbi8vIGhhbmRsZXJzIGZvciBmYXN0IGNhc2VzIGJlY2F1c2UgZW1pdCgpIGl0c2VsZiBvZnRlbiBoYXMgYSB2YXJpYWJsZSBudW1iZXIgb2Zcbi8vIGFyZ3VtZW50cyBhbmQgY2FuIGJlIGRlb3B0aW1pemVkIGJlY2F1c2Ugb2YgdGhhdC4gVGhlc2UgZnVuY3Rpb25zIGFsd2F5cyBoYXZlXG4vLyB0aGUgc2FtZSBudW1iZXIgb2YgYXJndW1lbnRzIGFuZCB0aHVzIGRvIG5vdCBnZXQgZGVvcHRpbWl6ZWQsIHNvIHRoZSBjb2RlXG4vLyBpbnNpZGUgdGhlbSBjYW4gZXhlY3V0ZSBmYXN0ZXIuXG5mdW5jdGlvbiBlbWl0Tm9uZShoYW5kbGVyLCBpc0ZuLCBzZWxmKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuY2FsbChzZWxmKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5jYWxsKHNlbGYpO1xuICB9XG59XG5mdW5jdGlvbiBlbWl0T25lKGhhbmRsZXIsIGlzRm4sIHNlbGYsIGFyZzEpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYsIGFyZzEpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZiwgYXJnMSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVtaXRUd28oaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJnMSwgYXJnMikge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmNhbGwoc2VsZiwgYXJnMSwgYXJnMik7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uY2FsbChzZWxmLCBhcmcxLCBhcmcyKTtcbiAgfVxufVxuZnVuY3Rpb24gZW1pdFRocmVlKGhhbmRsZXIsIGlzRm4sIHNlbGYsIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZiwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW1pdE1hbnkoaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJncykge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICB9XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgZXZlbnRzLCBkb21haW47XG4gIHZhciBuZWVkRG9tYWluRXhpdCA9IGZhbHNlO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PSBudWxsKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGRvbWFpbiA9IHRoaXMuZG9tYWluO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICBpZiAoZG9tYWluKSB7XG4gICAgICBpZiAoIWVyKVxuICAgICAgICBlciA9IG5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudCcpO1xuICAgICAgZXIuZG9tYWluRW1pdHRlciA9IHRoaXM7XG4gICAgICBlci5kb21haW4gPSBkb21haW47XG4gICAgICBlci5kb21haW5UaHJvd24gPSBmYWxzZTtcbiAgICAgIGRvbWFpbi5lbWl0KCdlcnJvcicsIGVyKTtcbiAgICB9IGVsc2UgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LiAoJyArIGVyICsgJyknKTtcbiAgICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKCFoYW5kbGVyKVxuICAgIHJldHVybiBmYWxzZTtcblxuICB2YXIgaXNGbiA9IHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nO1xuICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICBzd2l0Y2ggKGxlbikge1xuICAgIC8vIGZhc3QgY2FzZXNcbiAgICBjYXNlIDE6XG4gICAgICBlbWl0Tm9uZShoYW5kbGVyLCBpc0ZuLCB0aGlzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIGVtaXRPbmUoaGFuZGxlciwgaXNGbiwgdGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzpcbiAgICAgIGVtaXRUd28oaGFuZGxlciwgaXNGbiwgdGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA0OlxuICAgICAgZW1pdFRocmVlKGhhbmRsZXIsIGlzRm4sIHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdLCBhcmd1bWVudHNbM10pO1xuICAgICAgYnJlYWs7XG4gICAgLy8gc2xvd2VyXG4gICAgZGVmYXVsdDpcbiAgICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgZW1pdE1hbnkoaGFuZGxlciwgaXNGbiwgdGhpcywgYXJncyk7XG4gIH1cblxuICBpZiAobmVlZERvbWFpbkV4aXQpXG4gICAgZG9tYWluLmV4aXQoKTtcblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmICghZXZlbnRzKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBuZXcgRXZlbnRIYW5kbGVycygpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIpIHtcbiAgICAgIHRhcmdldC5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZXhpc3RpbmcsIGxpc3RlbmVyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgICAgaWYgKHByZXBlbmQpIHtcbiAgICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleGlzdGluZy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICAgIGlmICghZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBtID0gJGdldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgICAgaWYgKG0gJiYgbSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSkge1xuICAgICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnICcgKyB0eXBlICsgJyBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgICBlbWl0V2FybmluZyh3KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gZW1pdFdhcm5pbmcoZSkge1xuICB0eXBlb2YgY29uc29sZS53YXJuID09PSAnZnVuY3Rpb24nID8gY29uc29sZS53YXJuKGUpIDogY29uc29sZS5sb2coZSk7XG59XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBnKCkge1xuICAgIHRhcmdldC5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0YXJnZXQsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgcmV0dXJuIGc7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UodHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIHRoaXMub24odHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kT25jZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKCFldmVudHMpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKCFsaXN0KVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8IChsaXN0Lmxpc3RlbmVyICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRIYW5kbGVycygpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgbGlzdFswXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzcGxpY2VPbmUobGlzdCwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoIWV2ZW50cylcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmICghZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzW3R5cGVdKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRIYW5kbGVycygpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwga2V5OyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGRvIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9IHdoaWxlIChsaXN0ZW5lcnNbMF0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHZhciBldmxpc3RlbmVyO1xuICB2YXIgcmV0O1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmICghZXZlbnRzKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIHtcbiAgICBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICAgIGlmICghZXZsaXN0ZW5lcilcbiAgICAgIHJldCA9IFtdO1xuICAgIGVsc2UgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKVxuICAgICAgcmV0ID0gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl07XG4gICAgZWxzZVxuICAgICAgcmV0ID0gdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHJldHVybiB0aGlzLl9ldmVudHNDb3VudCA+IDAgPyBSZWZsZWN0Lm93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuLy8gQWJvdXQgMS41eCBmYXN0ZXIgdGhhbiB0aGUgdHdvLWFyZyB2ZXJzaW9uIG9mIEFycmF5I3NwbGljZSgpLlxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAodmFyIGkgPSBpbmRleCwgayA9IGkgKyAxLCBuID0gbGlzdC5sZW5ndGg7IGsgPCBuOyBpICs9IDEsIGsgKz0gMSlcbiAgICBsaXN0W2ldID0gbGlzdFtrXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIGkpIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkoaSk7XG4gIHdoaWxlIChpLS0pXG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgcmV0dXJuIGNvcHk7XG59XG5cbmZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhhcnIpIHtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyArK2kpIHtcbiAgICByZXRbaV0gPSBhcnJbaV0ubGlzdGVuZXIgfHwgYXJyW2ldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG4iLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT90KGV4cG9ydHMpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiXSx0KTp0KChlPWV8fHNlbGYpLndlYndvcmtlckZpbGU9e30pfSh0aGlzLGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2UuZGVmYXVsdD1mdW5jdGlvbiBlKHQpe2lmKGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIkZpbGUgY29udGVudCBtdXN0IGV4cG9ydCBhIGZ1bmN0aW9uXCIpO3ZhciBuPXQudG9TdHJpbmcoKSxvPW5ldyBCbG9iKFtcIihcIituK1wiKSgpXCJdLHt0eXBlOlwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwifSk7cmV0dXJuIG5ldyBXb3JrZXIoVVJMLmNyZWF0ZU9iamVjdFVSTChvKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWFXNWtaWGd1YW5NaUxDSnpiM1Z5WTJWeklqcGJJaTR1TDNOeVl5OXBibVJsZUM1cWN5SmRMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUpsZUhCdmNuUWdaR1ZtWVhWc2RDQmpiR0Z6Y3lCWFpXSlhiM0pyWlhJZ2UxeHVJQ0JqYjI1emRISjFZM1J2Y2loM2IzSnJaWElwSUh0Y2JpQWdJQ0JwWmlBb2RIbHdaVzltSUhkdmNtdGxjaUFoUFQwZ1hDSm1kVzVqZEdsdmJsd2lLU0I3WEc0Z0lDQWdJQ0IwYUhKdmR5QnVaWGNnUlhKeWIzSW9YQ0pHYVd4bElHTnZiblJsYm5RZ2JYVnpkQ0JsZUhCdmNuUWdZU0JtZFc1amRHbHZibHdpS1R0Y2JpQWdJQ0I5WEc0Z0lDQWdZMjl1YzNRZ1kyOWtaU0E5SUhkdmNtdGxjaTUwYjFOMGNtbHVaeWdwTzF4dUlDQWdJR052Ym5OMElHSnNiMklnUFNCdVpYY2dRbXh2WWloYlhDSW9YQ0lnS3lCamIyUmxJQ3NnWENJcEtDbGNJbDBzSUh0Y2JpQWdJQ0FnSUhSNWNHVTZJRndpWVhCd2JHbGpZWFJwYjI0dmFtRjJZWE5qY21sd2RGd2lYRzRnSUNBZ2ZTazdYRzRnSUNBZ2NtVjBkWEp1SUc1bGR5QlhiM0pyWlhJb1ZWSk1MbU55WldGMFpVOWlhbVZqZEZWU1RDaGliRzlpS1NrN1hHNGdJSDFjYm4xY2JpSmRMQ0p1WVcxbGN5STZXeUozYjNKclpYSWlMQ0pGY25KdmNpSXNJbU52WkdVaUxDSjBiMU4wY21sdVp5SXNJbUpzYjJJaUxDSkNiRzlpSWl3aWRIbHdaU0lzSWxkdmNtdGxjaUlzSWxWU1RDSXNJbU55WldGMFpVOWlhbVZqZEZWU1RDSmRMQ0p0WVhCd2FXNW5jeUk2SW05T1FVTkZMRmRCUVZsQkxESkhRVU5aTEcxQ1FVRllRU3hSUVVOSUxFbEJRVWxETEUxQlFVMHNNa05CUlZwRExFVkJRVTlHTEVWQlFVOUhMRmRCUTJSRExFVkJRVThzU1VGQlNVTXNTMEZCU3l4RFFVRkRMRWxCUVUxSUxFVkJRVThzVDBGQlVTeERRVU14UTBrc1MwRkJUU3hyUTBGRlJDeEpRVUZKUXl4UFFVRlBReXhKUVVGSlF5eG5Ra0ZCWjBKTUluMD1cbiIsImltcG9ydCBXb3JrZXJGaWxlIGZyb20gXCJ3ZWJ3b3JrZXItZmlsZVwiO1xuaW1wb3J0IHdvcmtlckZpbGUgZnJvbSBcIi4vRkZNUEVHV2ViV29ya2VyXCI7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiZXZlbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZGTVBFR1dlYndvcmtlckNsaWVudCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIC8qKlxuICAgKiBAdHlwZSB7V29ya2VyfVxuICAgKi9cbiAgX3dvcmtlciA9IHt9O1xuICAvKipcbiAgICogQHR5cGUge0Jsb2J9XG4gICAqL1xuICBfaW5wdXRGaWxlID0ge307XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgd29ya2VySXNSZWFkeSA9IGZhbHNlO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaW5pdFdlYldvcmtlcigpO1xuICB9XG5cbiAgaW5pdFdlYldvcmtlcigpIHtcbiAgICB0aGlzLndvcmtlciA9IG5ldyBXb3JrZXJGaWxlKHdvcmtlckZpbGUpO1xuICAgIHRoaXMubG9nO1xuICAgIGNvbnN0IGxvZyA9ICh0aGlzLndvcmtlci5vbm1lc3NhZ2UgPSBldmVudCA9PiB7XG4gICAgICBsZXQgbWVzc2FnZSA9IGV2ZW50LmRhdGE7XG4gICAgICBpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSkge1xuICAgICAgICBpZiAobWVzc2FnZS50eXBlID09IFwicmVhZHlcIikge1xuICAgICAgICAgIHRoaXMuZW1pdChcIm9uUmVhZHlcIiwgXCJmZm1wZWctYXNtLmpzIGZpbGUgaGFzIGJlZW4gbG9hZGVkLlwiKTtcbiAgICAgICAgICB0aGlzLndvcmtlcklzUmVhZHkgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PSBcInN0ZG91dFwiKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KFwib25TdGRvdXRcIiwgbWVzc2FnZS5kYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT0gXCJzdGFydFwiKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KFwib25GaWxlUmVjZWl2ZWRcIiwgXCJGaWxlIFJlY2VpdmVkXCIpO1xuICAgICAgICAgIGxvZyhcImZpbGUgcmVjZWl2ZWQgZmZtcGVnIGNvbW1hbmQuXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PSBcImRvbmVcIikge1xuICAgICAgICAgIHRoaXMuZW1pdChcIm9uRG9uZVwiLCBtZXNzYWdlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzZXQgd29ya2VyKHdvcmtlcikge1xuICAgIHRoaXMuX3dvcmtlciA9IHdvcmtlcjtcbiAgfVxuICBnZXQgd29ya2VyKCkge1xuICAgIHJldHVybiB0aGlzLl93b3JrZXI7XG4gIH1cblxuICBzZXQgaW5wdXRGaWxlKGlucHV0RmlsZSkge1xuICAgIGlmICghdGhpcy5pc1ZpZGVvKGlucHV0RmlsZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIklucHV0IGZpbGUgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXVkaW8gb3IgYSB2aWRlb1wiKTtcbiAgICB9XG4gICAgdGhpcy5faW5wdXRGaWxlID0gaW5wdXRGaWxlO1xuICB9XG4gIGdldCBpbnB1dEZpbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0RmlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiB1c2Ugd29ya2VyIHRvIGVuY29kZSBhdWRpb1xuICAgKiBAcGFyYW0ge0Jsb2J9IGZpbGVcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XG4gICAqL1xuICByZWFkRmlsZUFzQnVmZmVyQXJyYXkgPSBmaWxlID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3VsdCk7XG4gICAgICB9O1xuICAgICAgZmlsZVJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdCh0aGlzLmVycm9yKTtcbiAgICAgIH07XG4gICAgICBmaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIGlucHV0RmlsZUV4aXN0cygpIHtcbiAgICBjb25zdCBpbnB1dEZpbGUgPSB0aGlzLmlucHV0RmlsZTtcbiAgICByZXR1cm4gISEoXG4gICAgICBpbnB1dEZpbGUgJiZcbiAgICAgIGlucHV0RmlsZSBpbnN0YW5jZW9mIEJsb2IgJiZcbiAgICAgIGlucHV0RmlsZS5zaXplICYmXG4gICAgICBpbnB1dEZpbGUudHlwZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogdXNlIHdvcmtlciB0byBlbmNvZGUgYXVkaW9cbiAgICogQHBhcmFtIHtCbG9ifSBpbnB1dEZpbGVcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XG4gICAqL1xuICBjb252ZXJ0SW5wdXRGaWxlVG9BcnJheUJ1ZmZlcigpIHtcbiAgICBpZiAoIXRoaXMuaW5wdXRGaWxlRXhpc3RzKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIklucHV0IEZpbGUgaGFzIG5vdCBiZWVuIHNldFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVhZEZpbGVBc0J1ZmZlckFycmF5KHRoaXMuaW5wdXRGaWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJlZmlsZWNvbW1hbmRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBvc3RmaWxlY29tbWFuZFxuICAgKi9cbiAgcnVuQ29tbWFuZCA9IChwcmVmaWxlY29tbWFuZCwgcG9zdGZpbGVjb21tYW5kLCB0b3RhbE1lbW9yeSA9IDMzNTU0NDMyKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBwb3N0ZmlsZWNvbW1hbmQgIT09IFwic3RyaW5nXCIgfHwgIXBvc3RmaWxlY29tbWFuZC5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImNvbW1hbmQgc2hvdWxkIGJlIHN0cmluZyBhbmQgbm90IGVtcHR5XCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnB1dEZpbGUgJiYgdGhpcy5pbnB1dEZpbGUudHlwZSkge1xuICAgICAgdGhpcy5jb252ZXJ0SW5wdXRGaWxlVG9BcnJheUJ1ZmZlcigpLnRoZW4oYXJyYXlCdWZmZXIgPT4ge1xuICAgICAgICB3aGlsZSAoIXRoaXMud29ya2VySXNSZWFkeSkge31cbiAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBgdmlkZW8tJHtEYXRlLm5vdygpfS53ZWJtYDtcbiAgICAgICAgY29uc3QgaW5wdXRDb21tYW5kID0gYCR7cHJlZmlsZWNvbW1hbmR9IC1pICR7ZmlsZW5hbWV9ICR7cG9zdGZpbGVjb21tYW5kfWA7XG4gICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICB0eXBlOiBcImNvbW1hbmRcIixcbiAgICAgICAgICBhcmd1bWVudHM6IGlucHV0Q29tbWFuZC5zcGxpdChcIiBcIiksXG4gICAgICAgICAgZmlsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZGF0YTogbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpLFxuICAgICAgICAgICAgICBuYW1lOiBmaWxlbmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgdG90YWxNZW1vcnlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiBcImNvbW1hbmRcIixcbiAgICAgICAgYXJndW1lbnRzOiBjb21tYW5kLnNwbGl0KFwiIFwiKSxcbiAgICAgICAgdG90YWxNZW1vcnlcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtTdHJpbmcgfCBBcnJheTxTdHJpbmc+fSBtZXNzYWdlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBsb2cgPSBtZXNzYWdlID0+XG4gICAgQXJyYXkuaXNBcnJheShtZXNzYWdlKVxuICAgICAgPyBjb25zb2xlLmxvZy5jYWxsKG51bGwsIG1lc3NhZ2UpXG4gICAgICA6IGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0Jsb2J9IGZpbGVcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG4gIGlzVmlkZW8gPSBmaWxlID0+IHtcbiAgICBjb25zdCBmaWxlVHlwZSA9IGZpbGUudHlwZTtcbiAgICByZXR1cm4gKFxuICAgICAgZmlsZSBpbnN0YW5jZW9mIEJsb2IgJiZcbiAgICAgIChmaWxlVHlwZS5pbmNsdWRlcyhcInZpZGVvXCIpIHx8IGZpbGVUeXBlLmluY2x1ZGVzKFwiYXVkaW9cIikpXG4gICAgKTtcbiAgfTtcbn1cbiIsImltcG9ydCBXZWJ3b3JrZXJDbGllbnQgZnJvbSBcIi4vRkZNUEVHV2ViV29ya2VyQ2xpZW50XCI7XG5pbXBvcnQgV2Vid29ya2VyIGZyb20gXCIuL0ZGTVBFR1dlYldvcmtlclwiO1xuXG5leHBvcnQgY29uc3QgRkZNUEVHV2Vid29ya2VyID0gV2Vid29ya2VyO1xuZXhwb3J0IGNvbnN0IEZGTVBFR1dlYndvcmtlckNsaWVudCA9IFdlYndvcmtlckNsaWVudDtcbmxldCB3b3JrZXJDbGllbnQgPSB7IG9uKCkge30sIGVtaXQoKSB7fSB9O1xuY29uc3QgX3dpbmRvdyA9IGdsb2JhbCB8fCB3aW5kb3c7XG5pZiAoX3dpbmRvdyAmJiBfd2luZG93LkJsb2IpIHtcbiAgd29ya2VyQ2xpZW50ID0gbmV3IFdlYndvcmtlckNsaWVudCgpO1xufVxuZXhwb3J0IGRlZmF1bHQgd29ya2VyQ2xpZW50O1xuIl0sIm5hbWVzIjpbImdsb2JhbCIsInNlbGYiLCJ3aW5kb3ciLCJ3b3JrZXJGaWxlIiwiaW1wb3J0U2NyaXB0cyIsIm5vdyIsIkRhdGUiLCJwcmludCIsInRleHQiLCJwb3N0TWVzc2FnZSIsInR5cGUiLCJkYXRhIiwib25tZXNzYWdlIiwiZXZlbnQiLCJtZXNzYWdlIiwiTW9kdWxlIiwicHJpbnRFcnIiLCJmaWxlcyIsImFyZ3VtZW50cyIsIlRPVEFMX01FTU9SWSIsInRvdGFsTWVtb3J5Iiwiam9pbiIsInRpbWUiLCJyZXN1bHQiLCJmZm1wZWdfcnVuIiwidG90YWxUaW1lIiwiZG9tYWluIiwiZSIsImV4cG9ydHMiLCJkZWZhdWx0IiwidCIsIlR5cGVFcnJvciIsInRoaXMiLCJFcnJvciIsIm4iLCJ0b1N0cmluZyIsIm8iLCJCbG9iIiwiV29ya2VyIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIkV2ZW50SGFuZGxlcnMiLCJFdmVudEVtaXR0ZXIiLCJpbml0IiwiY2FsbCIsIiRnZXRNYXhMaXN0ZW5lcnMiLCJ0aGF0IiwidW5kZWZpbmVkIiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJfYWRkTGlzdGVuZXIiLCJ0YXJnZXQiLCJsaXN0ZW5lciIsInByZXBlbmQiLCJldmVudHMiLCJleGlzdGluZyIsIl9ldmVudHMiLCJuZXdMaXN0ZW5lciIsImVtaXQiLCJfZXZlbnRzQ291bnQiLCJ1bnNoaWZ0IiwicHVzaCIsIndhcm5lZCIsIm0iLCJsZW5ndGgiLCJ3IiwibmFtZSIsImVtaXR0ZXIiLCJjb3VudCIsImNvbnNvbGUiLCJ3YXJuIiwibG9nIiwiX29uY2VXcmFwIiwiZmlyZWQiLCJnIiwicmVtb3ZlTGlzdGVuZXIiLCJhcHBseSIsImxpc3RlbmVyQ291bnQiLCJldmxpc3RlbmVyIiwiYXJyYXlDbG9uZSIsImFyciIsImkiLCJjb3B5IiwiQXJyYXkiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJ1c2luZ0RvbWFpbnMiLCJhY3RpdmUiLCJEb21haW4iLCJnZXRQcm90b3R5cGVPZiIsInNldE1heExpc3RlbmVycyIsImlzTmFOIiwiZ2V0TWF4TGlzdGVuZXJzIiwiaGFuZGxlciIsImFyZ3MiLCJkb0Vycm9yIiwiZXJyb3IiLCJlciIsImRvbWFpbkVtaXR0ZXIiLCJkb21haW5UaHJvd24iLCJlcnIiLCJjb250ZXh0IiwibGVuIiwiaXNGbiIsImxpc3RlbmVycyIsImVtaXROb25lIiwiYXJnMSIsImVtaXRPbmUiLCJhcmcyIiwiZW1pdFR3byIsImFyZzMiLCJlbWl0VGhyZWUiLCJlbWl0TWFueSIsIm9uIiwiYWRkTGlzdGVuZXIiLCJwcmVwZW5kTGlzdGVuZXIiLCJvbmNlIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3QiLCJwb3NpdGlvbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJpbmRleCIsImsiLCJwb3AiLCJzcGxpY2VPbmUiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJrZXkiLCJrZXlzIiwicmV0IiwidW53cmFwTGlzdGVuZXJzIiwiZXZlbnROYW1lcyIsIlJlZmxlY3QiLCJvd25LZXlzIiwiRkZNUEVHV2Vid29ya2VyQ2xpZW50IiwiZmlsZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZmlsZVJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJvbmVycm9yIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJwcmVmaWxlY29tbWFuZCIsInBvc3RmaWxlY29tbWFuZCIsIl90aGlzIiwiaW5wdXRGaWxlIiwiY29udmVydElucHV0RmlsZVRvQXJyYXlCdWZmZXIiLCJ0aGVuIiwiYXJyYXlCdWZmZXIiLCJ3b3JrZXJJc1JlYWR5IiwiZmlsZW5hbWUiLCJpbnB1dENvbW1hbmQiLCJ3b3JrZXIiLCJzcGxpdCIsIlVpbnQ4QXJyYXkiLCJjb21tYW5kIiwiaXNBcnJheSIsImZpbGVUeXBlIiwiaW5jbHVkZXMiLCJpbml0V2ViV29ya2VyIiwiV29ya2VyRmlsZSIsIl90aGlzMiIsIl93b3JrZXIiLCJfaW5wdXRGaWxlIiwiaXNWaWRlbyIsInNpemUiLCJpbnB1dEZpbGVFeGlzdHMiLCJyZWFkRmlsZUFzQnVmZmVyQXJyYXkiLCJGRk1QRUdXZWJ3b3JrZXIi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
